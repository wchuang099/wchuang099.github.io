<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Windows on 碎碎念念</title>
    <link>http://localhost:1313/Windows/</link>
    <description>Recent content in Windows on 碎碎念念</description>
    <generator>Hugo</generator>
    <language>zh-CN</language>
    <atom:link href="http://localhost:1313/Windows/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>nssm进程管理工具</title>
      <link>http://localhost:1313/Windows/nssm%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/Windows/nssm%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/</guid>
      <description>&lt;h2 id=&#34;nssm注册系统服务&#34;&gt;nssm注册系统服务&lt;a class=&#34;anchor&#34; href=&#34;#nssm%e6%b3%a8%e5%86%8c%e7%b3%bb%e7%bb%9f%e6%9c%8d%e5%8a%a1&#34;&gt;#&lt;/a&gt;&lt;/h2&gt;&#xA;&lt;p&gt;对于Windows平台来说，很多软件或系统的后台服务是基于windows服务的方式运行的，它的优势是稳定可靠，有进程保护，但对于一些普通exe程序（控制台程序或带界面的windows程序）或bat文件是否也可以封装成windows服务进行运行呢？其实windows本身就有SC.exe，它为Windows系统自带工具，可对Windows系统服务进行创建，查询，启动，停止，删除等操作。但是SC.exe 只支持操作服务控制管理器(SCM)接口规范的系统服务，比如一般的网络服务进程如nginx 等无法作为服务直接启动了，因此本文介绍一个可以封装普通exe程序或bat文件的windows服务工具：NSSM。&lt;/p&gt;&#xA;&lt;p&gt;NSSM是一个服务封装程序，它可以将普通exe程序或bat文件封装成服务，使之像windows服务一样运行。同类型的工具还有微软自己的srvany，不过nssm更加简单易用，并且功能强大。它的特点如下：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;支持普通exe程序（控制台程序或者带界面的Windows程序都可以）或bat文件&lt;/li&gt;&#xA;&lt;li&gt;安装简单又方便&lt;/li&gt;&#xA;&lt;li&gt;可以重定向输出（并且支持Rotation）&lt;/li&gt;&#xA;&lt;li&gt;可以自动守护封装了的服务，程序挂掉了后可以自动重启&lt;/li&gt;&#xA;&lt;li&gt;可以自定义环境变量&lt;/li&gt;&#xA;&lt;li&gt;可以自定义启动参数&#xA;从以上可以得知，NSSM每个功能都很实用，可以大大简化开发流程，降低了开发难度，使用和调试起来也非常方便，特别不需要考虑开发一个服务实现服务守护功能，以确保稳定可靠。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;nssm常用命令&#34;&gt;NSSM常用命令&lt;a class=&#34;anchor&#34; href=&#34;#nssm%e5%b8%b8%e7%94%a8%e5%91%bd%e4%bb%a4&#34;&gt;#&lt;/a&gt;&lt;/h2&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;1.安装服务：nssm install 服务名称&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2.删除服务：nssm remove 服务名称&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;3.删除服务确定：nssm remove 服务名称 confirm&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;4.修改服务（显示界面修改）：nssm edit 服务名称&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;5.启动服务：nssm start 服务名称&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;6.停止服务：nssm stop 服务名名称&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;7.停止服务：nssm stop 服务名称&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;nssm使用步骤&#34;&gt;NSSM使用步骤&lt;a class=&#34;anchor&#34; href=&#34;#nssm%e4%bd%bf%e7%94%a8%e6%ad%a5%e9%aa%a4&#34;&gt;#&lt;/a&gt;&lt;/h2&gt;&#xA;&lt;h3 id=&#34;下载nssm&#34;&gt;下载NSSM&lt;a class=&#34;anchor&#34; href=&#34;#%e4%b8%8b%e8%bd%bdnssm&#34;&gt;#&lt;/a&gt;&lt;/h3&gt;&#xA;&lt;p&gt;1.&lt;a href=&#34;http://nssm.cc/download&#34;&gt;下载NSSM&lt;/a&gt;&#xA;2.根据windows平台，将32/64位nssm.exe文件解压至任意文件夹&#xA;3.cmd进入到nssm.exe所在目录，如你操作系统是32bit，请对应32位的nssm.exe文件，如你操作系统是64bit，请对应64位的nssm.exe&#xA;4.输入 nssm install {服务名称}，即注册Windows服务的名称。&lt;/p&gt;&#xA;&lt;h3 id=&#34;注册服务&#34;&gt;注册服务&lt;a class=&#34;anchor&#34; href=&#34;#%e6%b3%a8%e5%86%8c%e6%9c%8d%e5%8a%a1&#34;&gt;#&lt;/a&gt;&lt;/h3&gt;&#xA;&lt;p&gt;设置说明，如下：&#xA;1.Application Path: 选择系统安装的exe或bat。&#xA;2.Startup directory: 选择exe或bat项目的根目录。&#xA;3.Arguments: 输入启动参数。&#xA;4.Service name: 服务名称&#xA;上述步骤操作完成，即可点击Install service来注册服务。&#xA;在系统服务中services.msc找到刚刚注册的服务，右键属性 - 恢复即可设置此服务挂掉重启等内容。&#xA;需要注意一点，安装完服务后，需要启动服务，否则没有生效。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
